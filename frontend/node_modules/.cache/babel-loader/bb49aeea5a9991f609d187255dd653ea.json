{"ast":null,"code":"import _classCallCheck from \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/diego/Documents/ethereum/shutterStock/shutter_stock/src/components/UploadedPhotosStatus.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport request from 'superagent';\nimport { deleteUploadedPhoto } from '../actions';\n\nvar UploadedPhotoStatus =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UploadedPhotoStatus, _Component);\n\n  function UploadedPhotoStatus() {\n    _classCallCheck(this, UploadedPhotoStatus);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UploadedPhotoStatus).apply(this, arguments));\n  }\n\n  _createClass(UploadedPhotoStatus, [{\n    key: \"render\",\n    value: function render() {\n      var uploadedPhoto = this.props.uploadedPhoto;\n      var response = uploadedPhoto.response;\n      var data = response && response.body;\n      var percent = Math.floor(uploadedPhoto.progress.percent);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, uploadedPhoto.fileName), data && data.delete_token && React.createElement(\"button\", {\n        className: \"delete-image\",\n        onClick: this.deletePhoto.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"Delete image\"), React.createElement(\"div\", {\n        className: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, !response && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Uploading... \", percent, \"%\"), !response && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"In progress\"), response && React.createElement(\"div\", {\n        className: \"status-code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Upload completed with status code \", response.status)), React.createElement(\"div\", {\n        className: \"progress-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"progress\",\n        role: \"progressbar\",\n        style: {\n          width: percent + '%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })), data && React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, Object.keys(data).map(function (key) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, key), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, JSON.stringify(data[key])));\n      }))));\n    }\n  }, {\n    key: \"deletePhoto\",\n    value: function deletePhoto() {\n      request.post(\"https://api.cloudinary.com/v1_1/\".concat(this.context.cloudName, \"/delete_by_token\")).set('Content-Type', 'application/json').set('X-Requested-With', 'XMLHttpRequest').send({\n        token: this.props.uploadedPhoto.response.body.delete_token\n      }).then(this.onDeletePhoto.bind(this));\n    }\n  }, {\n    key: \"onDeletePhoto\",\n    value: function onDeletePhoto() {\n      this.props.onDeleteUploadedPhoto(this.props.uploadedPhoto.response.body.public_id);\n    }\n  }]);\n\n  return UploadedPhotoStatus;\n}(Component);\n\nUploadedPhotoStatus.propTypes = {\n  uploadedPhoto: PropTypes.object,\n  onDeleteUploadedPhoto: PropTypes.func\n};\nUploadedPhotoStatus.contextTypes = {\n  cloudName: PropTypes.string,\n  uploadPreset: PropTypes.string\n};\nvar UploadedPhotoStatusContainer = connect(function (state) {\n  return state;\n}, {\n  onDeleteUploadedPhoto: deleteUploadedPhoto\n})(UploadedPhotoStatus);\nObject.assign(UploadedPhotoStatusContainer.contextTypes, UploadedPhotoStatus.contextTypes);\nexport default UploadedPhotoStatusContainer;","map":{"version":3,"sources":["/home/diego/Documents/ethereum/shutterStock/shutter_stock/src/components/UploadedPhotosStatus.js"],"names":["React","Component","PropTypes","connect","request","deleteUploadedPhoto","UploadedPhotoStatus","uploadedPhoto","props","response","data","body","percent","Math","floor","progress","fileName","delete_token","deletePhoto","bind","status","width","Object","keys","map","key","JSON","stringify","post","context","cloudName","set","send","token","then","onDeletePhoto","onDeleteUploadedPhoto","public_id","propTypes","object","func","contextTypes","string","uploadPreset","UploadedPhotoStatusContainer","state","assign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAASC,mBAAT,QAAoC,YAApC;;IAEMC,mB;;;;;;;;;;;;;6BACO;AACL,UAAMC,aAAa,GAAG,KAAKC,KAAL,CAAWD,aAAjC;AACA,UAAME,QAAQ,GAAGF,aAAa,CAACE,QAA/B;AACA,UAAMC,IAAI,GAAGD,QAAQ,IAAIA,QAAQ,CAACE,IAAlC;AACA,UAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWP,aAAa,CAACQ,QAAd,CAAuBH,OAAlC,CAAhB;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKL,aAAa,CAACS,QAAnB,CADJ,EAEKN,IAAI,IACDA,IAAI,CAACO,YADR,IAEO;AACI,QAAA,SAAS,EAAC,cADd;AAEI,QAAA,OAAO,EAAE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJZ,EAWI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,CAACV,QAAD,IAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAmBG,OAAnB,MADlB,EAEK,CAACH,QAAD,IAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFlB,EAGKA,QAAQ,IACL;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACuCA,QAAQ,CAACW,MADhD,CAJR,CAXJ,EAoBI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,SAAS,EAAC,UADd;AAEI,QAAA,IAAI,EAAC,aAFT;AAGI,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAET,OAAO,GAAG;AAAnB,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CApBJ,EA2BKF,IAAI,IACD;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKY,MAAM,CAACC,IAAP,CAAYb,IAAZ,EAAkBc,GAAlB,CAAsB,UAAAC,GAAG,EAAI;AAC1B,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,GAAL,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,IAAI,CAACC,SAAL,CAAejB,IAAI,CAACe,GAAD,CAAnB,CAAL,CAFJ,CADJ;AAMH,OAPA,CADL,CADJ,CA5BR,CADJ;AA4CH;;;kCAEa;AACVrB,MAAAA,OAAO,CACFwB,IADL,2CAGY,KAAKC,OAAL,CAAaC,SAHzB,uBAMKC,GANL,CAMS,cANT,EAMyB,kBANzB,EAOKA,GAPL,CAOS,kBAPT,EAO6B,gBAP7B,EAQKC,IARL,CAQU;AACFC,QAAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWD,aAAX,CAAyBE,QAAzB,CAAkCE,IAAlC,CAAuCM;AAD5C,OARV,EAWKiB,IAXL,CAWU,KAAKC,aAAL,CAAmBhB,IAAnB,CAAwB,IAAxB,CAXV;AAYH;;;oCAEe;AACZ,WAAKX,KAAL,CAAW4B,qBAAX,CACI,KAAK5B,KAAL,CAAWD,aAAX,CAAyBE,QAAzB,CAAkCE,IAAlC,CAAuC0B,SAD3C;AAGH;;;;EAvE6BpC,S;;AA0ElCK,mBAAmB,CAACgC,SAApB,GAAgC;AAC5B/B,EAAAA,aAAa,EAAEL,SAAS,CAACqC,MADG;AAE5BH,EAAAA,qBAAqB,EAAElC,SAAS,CAACsC;AAFL,CAAhC;AAKAlC,mBAAmB,CAACmC,YAApB,GAAmC;AAC/BX,EAAAA,SAAS,EAAE5B,SAAS,CAACwC,MADU;AAE/BC,EAAAA,YAAY,EAAEzC,SAAS,CAACwC;AAFO,CAAnC;AAKA,IAAME,4BAA4B,GAAGzC,OAAO,CACxC,UAAA0C,KAAK;AAAA,SAAIA,KAAJ;AAAA,CADmC,EAExC;AACIT,EAAAA,qBAAqB,EAAE/B;AAD3B,CAFwC,CAAP,CAKnCC,mBALmC,CAArC;AAOAgB,MAAM,CAACwB,MAAP,CACIF,4BAA4B,CAACH,YADjC,EAEInC,mBAAmB,CAACmC,YAFxB;AAKA,eAAeG,4BAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport request from 'superagent';\nimport { deleteUploadedPhoto } from '../actions';\n\nclass UploadedPhotoStatus extends Component {\n    render() {\n        const uploadedPhoto = this.props.uploadedPhoto;\n        const response = uploadedPhoto.response;\n        const data = response && response.body;\n        const percent = Math.floor(uploadedPhoto.progress.percent);\n        return (\n            <div>\n                <h3>{uploadedPhoto.fileName}</h3>\n                {data &&\n                    data.delete_token && (\n                        <button\n                            className=\"delete-image\"\n                            onClick={this.deletePhoto.bind(this)}\n                        >\n                            Delete image\n                        </button>\n                    )}\n                <div className=\"status\">\n                    {!response && <div>Uploading... {percent}%</div>}\n                    {!response && <div>In progress</div>}\n                    {response && (\n                        <div className=\"status-code\">\n                            Upload completed with status code {response.status}\n                        </div>\n                    )}\n                </div>\n                <div className=\"progress-bar\">\n                    <div\n                        className=\"progress\"\n                        role=\"progressbar\"\n                        style={{ width: percent + '%' }}\n                    />\n                </div>\n                {data && (\n                    <div className=\"info\">\n                        <table>\n                            {Object.keys(data).map(key => {\n                                return (\n                                    <tr>\n                                        <td>{key}</td>\n                                        <td>{JSON.stringify(data[key])}</td>\n                                    </tr>\n                                );\n                            })}\n                        </table>\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    deletePhoto() {\n        request\n            .post(\n                `https://api.cloudinary.com/v1_1/${\n                    this.context.cloudName\n                }/delete_by_token`\n            )\n            .set('Content-Type', 'application/json')\n            .set('X-Requested-With', 'XMLHttpRequest')\n            .send({\n                token: this.props.uploadedPhoto.response.body.delete_token,\n            })\n            .then(this.onDeletePhoto.bind(this));\n    }\n\n    onDeletePhoto() {\n        this.props.onDeleteUploadedPhoto(\n            this.props.uploadedPhoto.response.body.public_id\n        );\n    }\n}\n\nUploadedPhotoStatus.propTypes = {\n    uploadedPhoto: PropTypes.object,\n    onDeleteUploadedPhoto: PropTypes.func,\n};\n\nUploadedPhotoStatus.contextTypes = {\n    cloudName: PropTypes.string,\n    uploadPreset: PropTypes.string,\n};\n\nconst UploadedPhotoStatusContainer = connect(\n    state => state,\n    {\n        onDeleteUploadedPhoto: deleteUploadedPhoto,\n    }\n)(UploadedPhotoStatus);\n\nObject.assign(\n    UploadedPhotoStatusContainer.contextTypes,\n    UploadedPhotoStatus.contextTypes\n);\n\nexport default UploadedPhotoStatusContainer;"]},"metadata":{},"sourceType":"module"}